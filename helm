rishabh@Amazon:~/Downloads$ ls
code_1.66.2-1649664567_amd64.deb
curl-7.82.0
curl-7.82.0.tar.gz
ideaIC-2021.3.3.tar.gz
idea-IC-213.7172.25
Jenkinsfile
k8s-in-1-hour-master
k8s-in-1-hour-master.zip
microsoft-edge-stable_100.0.1185.39-1_amd64.deb
script.groovy
test-kubeconfig.yaml
youtube-tutorial-series-master
youtube-tutorial-series-master.zip
rishabh@Amazon:~/Downloads$ export KUBECONFIG=test-kubeconfig.yaml
rishabh@Amazon:~/Downloads$ kubectl get nodes
NAME                          STATUS   ROLES    AGE    VERSION
lke57805-90423-62590e85e49e   Ready    <none>   119s   v1.22.6
lke57805-90423-62590e86415d   Ready    <none>   118s   v1.22.6
lke57805-90423-62590e869e05   Ready    <none>   91s    v1.22.6
rishabh@Amazon:~/Downloads$ kubectl get nodes
NAME                          STATUS                     ROLES    AGE     VERSION
lke57805-90423-62590e85e49e   Ready,SchedulingDisabled   <none>   3m14s   v1.22.6
lke57805-90423-62590e86415d   Ready                      <none>   3m13s   v1.22.6
lke57805-90423-62590e869e05   Ready                      <none>   2m46s   v1.22.6
rishabh@Amazon:~/Downloads$ kubectl get nodes
NAME                          STATUS   ROLES    AGE     VERSION
lke57805-90423-62590e86415d   Ready    <none>   3m36s   v1.22.6
lke57805-90423-62590e869e05   Ready    <none>   3m9s    v1.22.6
rishabh@Amazon:~/Downloads$ $ helm repo add bitnami https://charts.bitnami.com/bitnami
$: command not found
rishabh@Amazon:~/Downloads$ helm install my-release bitnami/mongodb

Command 'helm' not found, but can be installed with:

sudo snap install helm

rishabh@Amazon:~/Downloads$ sudo snap install helm
[sudo] password for rishabh: 
error: This revision of snap "helm" was published using classic confinement and thus may perform
       arbitrary system changes outside of the security sandbox that snaps are usually confined to,
       which may put your system at risk.

       If you understand and want to proceed repeat the command including --classic.
rishabh@Amazon:~/Downloads$ sudo snap install helm --classic
helm 3.7.0 from Snapcrafters installed
rishabh@Amazon:~/Downloads$ $ helm repo add bitnami https://charts.bitnami.com/bitnami
$: command not found
rishabh@Amazon:~/Downloads$ helm repo add bitnami https://charts.bitnami.com/bitnami
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: test-kubeconfig.yaml
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: test-kubeconfig.yaml
"bitnami" has been added to your repositories
rishabh@Amazon:~/Downloads$ helm search repor bitnami
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: test-kubeconfig.yaml
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: test-kubeconfig.yaml

Search provides the ability to search for Helm charts in the various places
they can be stored including the Artifact Hub and repositories you have added.
Use search subcommands to search different locations for charts.

Usage:
  helm search [command]

Available Commands:
  hub         search for charts in the Artifact Hub or your own hub instance
  repo        search repositories for a keyword in charts

Flags:
  -h, --help   help for search

Global Flags:
      --debug                       enable verbose output
      --kube-apiserver string       the address and the port for the Kubernetes API server
      --kube-as-group stringArray   group to impersonate for the operation, this flag can be repeated to specify multiple groups.
      --kube-as-user string         username to impersonate for the operation
      --kube-ca-file string         the certificate authority file for the Kubernetes API server connection
      --kube-context string         name of the kubeconfig context to use
      --kube-token string           bearer token used for authentication
      --kubeconfig string           path to the kubeconfig file
  -n, --namespace string            namespace scope for this request
      --registry-config string      path to the registry config file (default "/home/rishabh/.config/helm/registry.json")
      --repository-cache string     path to the file containing cached repository indexes (default "/home/rishabh/.cache/helm/repository")
      --repository-config string    path to the file containing repository names and URLs (default "/home/rishabh/.config/helm/repositories.yaml")

Use "helm search [command] --help" for more information about a command.
rishabh@Amazon:~/Downloads$ helm search repo bitnami
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: test-kubeconfig.yaml
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: test-kubeconfig.yaml
NAME                                        	CHART VERSION	APP VERSION  	DESCRIPTION                                       
bitnami/bitnami-common                      	0.0.9        	0.0.9        	DEPRECATED Chart with custom templates used in ...
bitnami/airflow                             	12.1.8       	2.2.5        	Apache Airflow is a tool to express and execute...
bitnami/apache                              	9.0.15       	2.4.53       	Apache HTTP Server is an open-source HTTP serve...
bitnami/argo-cd                             	3.1.12       	2.3.3        	Argo CD is a continuous delivery tool for Kuber...
bitnami/argo-workflows                      	1.1.6        	3.3.1        	Argo Workflows is meant to orchestrate Kubernet...
bitnami/aspnet-core                         	3.1.16       	6.0.4        	ASP.NET Core is an open-source framework for we...
bitnami/cassandra                           	9.1.16       	4.0.3        	Apache Cassandra is an open source distributed ...
bitnami/cert-manager                        	0.4.14       	1.8.0        	Cert Manager is a Kubernetes add-on to automate...
bitnami/common                              	1.13.0       	1.13.0       	A Library Helm Chart for grouping common logic ...
bitnami/concourse                           	1.0.15       	7.7.1        	Concourse is an automation system written in Go...
bitnami/consul                              	10.3.7       	1.11.5       	HashiCorp Consul is a tool for discovering and ...
bitnami/contour                             	7.7.0        	1.20.1       	Contour is an open source Kubernetes ingress co...
bitnami/contour-operator                    	1.1.3        	1.20.1       	The Contour Operator extends the Kubernetes API...
bitnami/dataplatform-bp1                    	11.0.2       	1.0.1        	This Helm chart can be used for the automated d...
bitnami/dataplatform-bp2                    	12.0.2       	1.0.1        	This Helm chart can be used for the automated d...
bitnami/discourse                           	7.0.14       	2.8.3        	Discourse is an open source discussion platform...
bitnami/dokuwiki                            	12.2.12      	20200729.0.0 	DokuWiki is a standards-compliant wiki optimize...
bitnami/drupal                              	11.0.30      	9.3.11       	Drupal is one of the most versatile open source...
bitnami/ejbca                               	5.1.11       	7.4.3-2      	EJBCA is an enterprise class PKI Certificate Au...
bitnami/elasticsearch                       	17.9.25      	7.17.2       	Elasticsearch is a distributed search and analy...
bitnami/etcd                                	7.0.4        	3.4.18       	etcd is a distributed key-value store designed ...
bitnami/external-dns                        	6.2.4        	0.11.0       	ExternalDNS is a Kubernetes addon that configur...
bitnami/fluentd                             	5.0.15       	1.14.6       	Fluentd collects events from various data sourc...
bitnami/geode                               	0.4.16       	1.14.4       	Apache Geode is a data management platform that...
bitnami/ghost                               	16.3.10      	4.43.1       	Ghost is an open source publishing platform des...
bitnami/grafana                             	7.6.28       	8.4.6        	Grafana is an open source metric analytics and ...
bitnami/grafana-operator                    	2.3.6        	4.2.0        	Grafana Operator is a Kubernetes operator that ...
bitnami/grafana-tempo                       	1.1.0        	1.3.2        	Grafana Tempo is a distributed tracing system t...
bitnami/haproxy                             	0.3.12       	2.5.5        	HAProxy is a TCP proxy and a HTTP reverse proxy...
bitnami/harbor                              	12.3.2       	2.5.0        	Harbor is an open source trusted cloud-native r...
bitnami/influxdb                            	4.0.10       	2.2.0        	InfluxDB(TM) is an open source time-series data...
bitnami/jasperreports                       	13.0.5       	8.0.0        	JasperReports Server is a stand-alone and embed...
bitnami/jenkins                             	10.0.4       	2.332.2      	Jenkins is an open source Continuous Integratio...
bitnami/joomla                              	12.0.19      	4.1.2        	Joomla! is an award winning open source CMS pla...
bitnami/jupyterhub                          	1.1.9        	1.5.0        	JupyterHub brings the power of notebooks to gro...
bitnami/kafka                               	16.2.3       	3.1.0        	Apache Kafka is a distributed streaming platfor...
bitnami/keycloak                            	7.1.14       	16.1.1       	Keycloak is a high performance Java-based ident...
bitnami/kiam                                	1.0.3        	4.2.0        	kiam is a proxy that captures AWS Metadata API ...
bitnami/kibana                              	9.3.17       	7.17.2       	Kibana is an open source, browser based analyti...
bitnami/kong                                	6.1.10       	2.8.1        	Kong is an open source Microservice API gateway...
bitnami/kube-prometheus                     	6.9.3        	0.55.1       	Prometheus Operator provides easy monitoring de...
bitnami/kube-state-metrics                  	2.2.18       	2.4.2        	kube-state-metrics is a simple service that lis...
bitnami/kubeapps                            	8.0.10       	2.4.4        	Kubeapps is a web-based UI for launching and ma...
bitnami/kubernetes-event-exporter           	1.4.6        	0.11.0       	Kubernetes Event Exporter makes it easy to expo...
bitnami/kubewatch                           	3.3.4        	0.1.0        	DEPRECATED Kubewatch is a Kubernetes watcher th...
bitnami/logstash                            	4.0.0        	8.1.2        	Logstash is an open source data processing engi...
bitnami/magento                             	19.2.21      	2.4.3        	Magento is a powerful open source e-commerce pl...
bitnami/mariadb                             	10.5.0       	10.5.15      	MariaDB is an open source, community-developed ...
bitnami/mariadb-cluster                     	1.0.2        	10.2.14      	DEPRECATED Chart to create a Highly available M...
bitnami/mariadb-galera                      	7.1.6        	10.6.7       	MariaDB Galera is a multi-primary database clus...
bitnami/mean                                	6.1.2        	4.6.2        	DEPRECATED MEAN is a free and open-source JavaS...
bitnami/mediawiki                           	13.0.20      	1.37.2       	MediaWiki is the free and open source wiki soft...
bitnami/memcached                           	6.0.14       	1.6.15       	Memcached is an high-performance, distributed m...
bitnami/metallb                             	2.6.12       	0.12.1       	MetalLB is a load-balancer implementation for b...
bitnami/metrics-server                      	5.11.7       	0.6.1        	Metrics Server aggregates resource usage data, ...
bitnami/minio                               	11.2.10      	2022.4.12    	MinIO(R) is an object storage server, compatibl...
bitnami/mongodb                             	11.1.5       	4.4.13       	MongoDB(R) is a relational open source NoSQL da...
bitnami/mongodb-sharded                     	4.0.17       	4.4.13       	MongoDB(R) is an open source NoSQL database tha...
bitnami/moodle                              	12.1.23      	3.11.6       	Moodle(TM) LMS is an open source online Learnin...
bitnami/mxnet                               	2.4.14       	1.9.0        	Apache MXNet (Incubating) is a flexible and eff...
bitnami/mysql                               	8.9.0        	8.0.28       	MySQL is a fast, reliable, scalable, and easy t...
bitnami/nats                                	7.1.15       	2.7.4        	NATS is an open source, lightweight and high-pe...
bitnami/nginx                               	10.1.0       	1.21.6       	NGINX Open Source is a web server that can be a...
bitnami/nginx-ingress-controller            	9.1.22       	1.1.3        	NGINX Ingress Controller is an Ingress controll...
bitnami/nginx-intel                         	1.0.0        	0.4.7        	NGINX Open Source for Intel is a lightweight se...
bitnami/node                                	17.0.17      	16.14.2      	Node.js is a runtime environment built on V8 Ja...
bitnami/node-exporter                       	2.4.10       	1.3.1        	Prometheus exporter for hardware and OS metrics...
bitnami/oauth2-proxy                        	2.0.16       	7.2.1        	A reverse proxy and static file server that pro...
bitnami/odoo                                	21.2.7       	15.0.20220410	Odoo is an open source ERP and CRM platform, fo...
bitnami/opencart                            	11.0.20      	3.0.3-8      	OpenCart is free open source ecommerce platform...
bitnami/orangehrm                           	11.0.3       	4.9.0-0      	DEPRECATED OrangeHRM is a free HR management sy...
bitnami/osclass                             	13.0.22      	8.0.1        	Osclass allows you to easily create a classifie...
bitnami/owncloud                            	11.0.24      	10.9.1       	ownCloud is an open source content collaboratio...
bitnami/parse                               	17.0.8       	5.2.0        	Parse is a platform that enables users to add a...
bitnami/phabricator                         	11.0.30      	2021.26.0    	DEPRECATED Collection of open source web applic...
bitnami/phpbb                               	11.0.21      	3.3.7        	phpBB is a popular bulletin board that features...
bitnami/phpmyadmin                          	9.0.18       	5.1.3        	phpMyAdmin is a free software tool written in P...
bitnami/postgresql                          	11.1.19      	14.2.0       	PostgreSQL (Postgres) is an open source object-...
bitnami/postgresql-ha                       	8.6.11       	11.15.0      	This PostgreSQL cluster solution includes the P...
bitnami/prestashop                          	14.0.23      	1.7.8-5      	PrestaShop is a powerful open source eCommerce ...
bitnami/prometheus-operator                 	0.31.1       	0.41.0       	DEPRECATED The Prometheus Operator for Kubernet...
bitnami/pytorch                             	2.3.38       	1.11.0       	PyTorch is a deep learning platform that accele...
bitnami/rabbitmq                            	8.31.4       	3.9.15       	RabbitMQ is an open source general-purpose mess...
bitnami/rabbitmq-cluster-operator           	2.5.2        	1.12.1       	The RabbitMQ Cluster Kubernetes Operator automa...
bitnami/redis                               	16.8.5       	6.2.6        	Redis(TM) is an open source, advanced key-value...
bitnami/redis-cluster                       	7.4.6        	6.2.6        	Redis(TM) is an open source, scalable, distribu...
bitnami/redmine                             	18.1.11      	4.2.5        	Redmine is an open source management applicatio...
bitnami/solr                                	4.0.5        	8.11.1       	Apache Solr is an extremely powerful, open sour...
bitnami/sonarqube                           	1.0.9        	9.3.0        	SonarQube is an open source quality management ...
bitnami/spark                               	5.9.9        	3.2.1        	Apache Spark is a high-performance engine for l...
bitnami/spring-cloud-dataflow               	7.0.5        	2.9.4        	Spring Cloud Data Flow is a microservices-based...
bitnami/sugarcrm                            	1.0.6        	6.5.26       	DEPRECATED SugarCRM enables businesses to creat...
bitnami/suitecrm                            	10.0.23      	7.12.5       	SuiteCRM is a completely open source, enterpris...
bitnami/tensorflow-inception                	3.3.2        	1.13.0       	DEPRECATED Open-source software library for ser...
bitnami/tensorflow-resnet                   	3.5.5        	2.8.0        	TensorFlow ResNet is a client utility for use w...
bitnami/testlink                            	10.0.16      	1.9.20       	DEPRECATED TestLink is test management software...
bitnami/thanos                              	10.3.4       	0.25.2       	Thanos is a highly available metrics system tha...
bitnami/tomcat                              	10.1.19      	10.0.20      	Apache Tomcat is an open-source web server desi...
bitnami/wavefront                           	3.4.0        	1.10.0       	Wavefront is a high-performance streaming analy...
bitnami/wavefront-adapter-for-istio         	1.1.0        	0.1.5        	Wavefront Adapter for Istio is an adapter for I...
bitnami/wavefront-hpa-adapter               	1.1.1        	0.9.8        	Wavefront HPA Adapter for Kubernetes is a Kuber...
bitnami/wavefront-prometheus-storage-adapter	1.1.1        	1.0.5        	Wavefront Storage Adapter is a Prometheus integ...
bitnami/wildfly                             	13.2.5       	26.1.0       	Wildfly is a lightweight, open source applicati...
bitnami/wordpress                           	13.2.2       	5.9.3        	WordPress is the world's most popular blogging ...
bitnami/wordpress-intel                     	0.2.1        	5.9.3        	WordPress for Intel is the most popular bloggin...
bitnami/zookeeper                           	9.0.4        	3.8.0        	Apache ZooKeeper provides a reliable, centraliz...
rishabh@Amazon:~/Downloads$ helm search repo bitnami/mongo
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: test-kubeconfig.yaml
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: test-kubeconfig.yaml
NAME                   	CHART VERSION	APP VERSION	DESCRIPTION                                       
bitnami/mongodb        	11.1.5       	4.4.13     	MongoDB(R) is a relational open source NoSQL da...
bitnami/mongodb-sharded	4.0.17       	4.4.13     	MongoDB(R) is an open source NoSQL database tha...
rishabh@Amazon:~/Downloads$ helm install mongodb --values test-mongodb-values.yaml bitnami/mongodb
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: test-kubeconfig.yaml
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: test-kubeconfig.yaml
NAME: mongodb
LAST DEPLOYED: Fri Apr 15 12:03:26 2022
NAMESPACE: default
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
CHART NAME: mongodb
CHART VERSION: 11.1.5
APP VERSION: 4.4.13

** Please be patient while the chart is being deployed **

MongoDB&reg; can be accessed on the following DNS name(s) and ports from within your cluster:

    mongodb-0.mongodb-headless.default.svc.cluster.local:27017
    mongodb-1.mongodb-headless.default.svc.cluster.local:27017
    mongodb-2.mongodb-headless.default.svc.cluster.local:27017

To get the root password run:

    export MONGODB_ROOT_PASSWORD=$(kubectl get secret --namespace default mongodb -o jsonpath="{.data.mongodb-root-password}" | base64 --decode)

To connect to your database, create a MongoDB&reg; client container:

    kubectl run --namespace default mongodb-client --rm --tty -i --restart='Never' --env="MONGODB_ROOT_PASSWORD=$MONGODB_ROOT_PASSWORD" --image docker.io/bitnami/mongodb:4.4.13-debian-10-r33 --command -- bash

Then, run the following command:
    mongo admin --host "mongodb-0.mongodb-headless.default.svc.cluster.local:27017,mongodb-1.mongodb-headless.default.svc.cluster.local:27017,mongodb-2.mongodb-headless.default.svc.cluster.local:27017" --authenticationDatabase admin -u root -p $MONGODB_ROOT_PASSWORD
rishabh@Amazon:~/Downloads$ kubectl get pods
Unable to connect to the server: http2: client connection lost
rishabh@Amazon:~/Downloads$ kubectl get nodes
NAME                          STATUS   ROLES    AGE   VERSION
lke57805-90423-62590e86415d   Ready    <none>   27m   v1.22.6
lke57805-90423-62590e869e05   Ready    <none>   27m   v1.22.6
rishabh@Amazon:~/Downloads$ kubectl get pods
NAME                READY   STATUS    RESTARTS   AGE
mongodb-0           1/1     Running   0          16m
mongodb-1           1/1     Running   0          15m
mongodb-2           1/1     Running   0          14m
mongodb-arbiter-0   1/1     Running   0          16m
rishabh@Amazon:~/Downloads$ kubectl get all
NAME                    READY   STATUS    RESTARTS   AGE
pod/mongodb-0           1/1     Running   0          16m
pod/mongodb-1           1/1     Running   0          15m
pod/mongodb-2           1/1     Running   0          14m
pod/mongodb-arbiter-0   1/1     Running   0          16m

NAME                               TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)     AGE
service/kubernetes                 ClusterIP   10.128.0.1   <none>        443/TCP     29m
service/mongodb-arbiter-headless   ClusterIP   None         <none>        27017/TCP   16m
service/mongodb-headless           ClusterIP   None         <none>        27017/TCP   16m

NAME                               READY   AGE
statefulset.apps/mongodb           3/3     16m
statefulset.apps/mongodb-arbiter   1/1     16m
rishabh@Amazon:~/Downloads$ kubectl get secret
NAME                            TYPE                                  DATA   AGE
default-token-nscqv             kubernetes.io/service-account-token   3      29m
mongodb                         Opaque                                2      16m
mongodb-token-zsz68             kubernetes.io/service-account-token   3      16m
sh.helm.release.v1.mongodb.v1   helm.sh/release.v1                    1      16m
rishabh@Amazon:~/Downloads$ kubectl apply -f test-mongo-express.yaml
deployment.apps/mongo-express created
service/mongo-express-service created
rishabh@Amazon:~/Downloads$ kubectl get pod
NAME                            READY   STATUS              RESTARTS   AGE
mongo-express-5f94c58fc-xg999   0/1     ContainerCreating   0          8s
mongodb-0                       1/1     Running             0          27m
mongodb-1                       1/1     Running             0          26m
mongodb-2                       1/1     Running             0          25m
mongodb-arbiter-0               1/1     Running             0          27m
rishabh@Amazon:~/Downloads$ kubectl get pod
NAME                            READY   STATUS    RESTARTS   AGE
mongo-express-5f94c58fc-xg999   1/1     Running   0          16s
mongodb-0                       1/1     Running   0          27m
mongodb-1                       1/1     Running   0          26m
mongodb-2                       1/1     Running   0          25m
mongodb-arbiter-0               1/1     Running   0          27m
rishabh@Amazon:~/Downloads$ kubectl logs mongo-express-5f94c58fc-xg999
Welcome to mongo-express
------------------------


(node:8) [MONGODB DRIVER] Warning: Current Server Discovery and Monitoring engine is deprecated, and will be removed in a future version. To use the new Server Discover and Monitoring engine, pass option { useUnifiedTopology: true } to the MongoClient constructor.
Mongo Express server listening at http://0.0.0.0:8081
Server is open to allow connections from anyone (0.0.0.0)
basicAuth credentials are "admin:pass", it is recommended you change this in your config.js!
rishabh@Amazon:~/Downloads$  helm repo add stable https://kubernetes-charts.storage.googleapis.com
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: test-kubeconfig.yaml
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: test-kubeconfig.yaml
Error: repo "https://kubernetes-charts.storage.googleapis.com" is no longer available; try "https://charts.helm.sh/stable" instead
rishabh@Amazon:~/Downloads$ helm repo add https://charts.helm.sh/stable
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: test-kubeconfig.yaml
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: test-kubeconfig.yaml
Error: "helm repo add" requires 2 arguments

Usage:  helm repo add [NAME] [URL] [flags]
rishabh@Amazon:~/Downloads$ helm repo add https://charts.helm.sh/stable
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: test-kubeconfig.yaml
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: test-kubeconfig.yaml
Error: "helm repo add" requires 2 arguments

Usage:  helm repo add [NAME] [URL] [flags]
rishabh@Amazon:~/Downloads$ helm repo add nginx-stable https://helm.nginx.com/stable
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: test-kubeconfig.yaml
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: test-kubeconfig.yaml
"nginx-stable" has been added to your repositories
rishabh@Amazon:~/Downloads$ helm search repo nginx-stable
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: test-kubeconfig.yaml
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: test-kubeconfig.yaml
NAME                                        	CHART VERSION	APP VERSION	DESCRIPTION                     
nginx-stable/nginx-appprotect-dos-arbitrator	0.1.0        	1.1.0      	NGINX App Protect Dos arbitrator
nginx-stable/nginx-ingress                  	0.13.0       	2.2.0      	NGINX Ingress Controller        
nginx-stable/nginx-service-mesh             	0.4.0        	1.4.0      	NGINX Service Mesh              
rishabh@Amazon:~/Downloads$ helm install nginx-ingress nginx-stable/nginx-ingress --set controller.publishService.enabled=true
\WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: test-kubeconfig.yaml
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: test-kubeconfig.yaml
NAME: nginx-ingress
LAST DEPLOYED: Fri Apr 15 12:41:38 2022
NAMESPACE: default
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
The NGINX Ingress Controller has been installed.
rishabh@Amazon:~/Downloads$ kubectl get pods
NAME                                           READY   STATUS    RESTARTS   AGE
mongo-express-5f94c58fc-xg999                  1/1     Running   0          11m
mongodb-0                                      1/1     Running   0          38m
mongodb-1                                      1/1     Running   0          37m
mongodb-2                                      1/1     Running   0          37m
mongodb-arbiter-0                              1/1     Running   0          38m
nginx-ingress-nginx-ingress-6876d4f7c9-j7nf4   1/1     Running   0          38s
rishabh@Amazon:~/Downloads$ kubectl get service
NAME                          TYPE           CLUSTER-IP      EXTERNAL-IP       PORT(S)                      AGE
kubernetes                    ClusterIP      10.128.0.1      <none>            443/TCP                      53m
mongo-express-service         ClusterIP      10.128.62.134   <none>            8081/TCP                     13m
mongodb-arbiter-headless      ClusterIP      None            <none>            27017/TCP                    40m
mongodb-headless              ClusterIP      None            <none>            27017/TCP                    40m
nginx-ingress-nginx-ingress   LoadBalancer   10.128.9.168    194.195.247.201   80:32272/TCP,443:32358/TCP   2m34s
rishabh@Amazon:~/Downloads$ kubectl apply -f test-ingress.yaml 
error: unable to recognize "test-ingress.yaml": no matches for kind "Ingress" in version "extensions/v1beta1"
rishabh@Amazon:~/Downloads$ kubectl apply -f test-ingress.yaml
error: unable to recognize "test-ingress.yaml": no matches for kind "Ingress" in version "extensions/v1beta1"
rishabh@Amazon:~/Downloads$ kubectl apply -f test-ingress.yaml
error: unable to recognize "test-ingress.yaml": no matches for kind "nginx-ingress" in version "extensions/v1beta1"
rishabh@Amazon:~/Downloads$ kubectl apply -f test-ingress.yaml
error: error validating "test-ingress.yaml": error validating data: [ValidationError(Ingress.spec.rules[0].http.paths[0].backend): unknown field "serviceName" in io.k8s.api.networking.v1.IngressBackend, ValidationError(Ingress.spec.rules[0].http.paths[0].backend): unknown field "servicePort" in io.k8s.api.networking.v1.IngressBackend, ValidationError(Ingress.spec.rules[0].http.paths[0]): missing required field "pathType" in io.k8s.api.networking.v1.HTTPIngressPath]; if you choose to ignore these errors, turn validation off with --validate=false
rishabh@Amazon:~/Downloads$ kubectl apply -f test-ingress.yaml
error: error validating "test-ingress.yaml": error validating data: [ValidationError(Ingress.spec.rules[0].http.paths[0].backend): unknown field "serviceName" in io.k8s.api.networking.v1.IngressBackend, ValidationError(Ingress.spec.rules[0].http.paths[0].backend): unknown field "servicePort" in io.k8s.api.networking.v1.IngressBackend, ValidationError(Ingress.spec.rules[0].http.paths[0]): missing required field "pathType" in io.k8s.api.networking.v1.HTTPIngressPath]; if you choose to ignore these errors, turn validation off with --validate=false
rishabh@Amazon:~/Downloads$ kubectl apply -f test-ingress.yaml
error: error validating "test-ingress.yaml": error validating data: [ValidationError(Ingress.spec.rules[0].http.paths[0].backend.service): unknown field "Name" in io.k8s.api.networking.v1.IngressServiceBackend, ValidationError(Ingress.spec.rules[0].http.paths[0].backend.service): unknown field "Port" in io.k8s.api.networking.v1.IngressServiceBackend, ValidationError(Ingress.spec.rules[0].http.paths[0].backend.service): missing required field "name" in io.k8s.api.networking.v1.IngressServiceBackend, ValidationError(Ingress.spec.rules[0].http.paths[0]): missing required field "pathType" in io.k8s.api.networking.v1.HTTPIngressPath]; if you choose to ignore these errors, turn validation off with --validate=false
rishabh@Amazon:~/Downloads$ kubectl apply -f test-ingress.yaml
error: error validating "test-ingress.yaml": error validating data: [ValidationError(Ingress.spec.rules[0].http.paths[0].backend): unknown field "service.name" in io.k8s.api.networking.v1.IngressBackend, ValidationError(Ingress.spec.rules[0].http.paths[0].backend): unknown field "service.port.number" in io.k8s.api.networking.v1.IngressBackend, ValidationError(Ingress.spec.rules[0].http.paths[0]): missing required field "pathType" in io.k8s.api.networking.v1.HTTPIngressPath]; if you choose to ignore these errors, turn validation off with --validate=false
rishabh@Amazon:~/Downloads$ kubectl apply -f test-ingress.yaml
error: error validating "test-ingress.yaml": error validating data: ValidationError(Ingress.spec.rules[0].http.paths[0]): missing required field "pathType" in io.k8s.api.networking.v1.HTTPIngressPath; if you choose to ignore these errors, turn validation off with --validate=false
rishabh@Amazon:~/Downloads$ kubectl apply -f test-ingress.yaml
ingress.networking.k8s.io/mongo-express created
rishabh@Amazon:~/Downloads$ kubectl get pods
NAME                                           READY   STATUS    RESTARTS   AGE
mongo-express-5f94c58fc-xg999                  1/1     Running   0          35m
mongodb-0                                      1/1     Running   0          62m
mongodb-1                                      1/1     Running   0          61m
mongodb-2                                      1/1     Running   0          60m
mongodb-arbiter-0                              1/1     Running   0          62m
nginx-ingress-nginx-ingress-6876d4f7c9-j7nf4   1/1     Running   0          24m
rishabh@Amazon:~/Downloads$ kubectl get ingress
NAME            CLASS    HOSTS                                      ADDRESS   PORTS   AGE
mongo-express   <none>   194-195-247-201.ip.linodeusercontent.com             80      4m27s
rishabh@Amazon:~/Downloads$ kubectl get pods
NAME                                           READY   STATUS    RESTARTS   AGE
mongo-express-5f94c58fc-xg999                  1/1     Running   0          37m
mongodb-0                                      1/1     Running   0          64m
mongodb-1                                      1/1     Running   0          63m
mongodb-2                                      1/1     Running   0          62m
mongodb-arbiter-0                              1/1     Running   0          64m
nginx-ingress-nginx-ingress-6876d4f7c9-j7nf4   1/1     Running   0          26m
rishabh@Amazon:~/Downloads$ helm ls
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: test-kubeconfig.yaml
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: test-kubeconfig.yaml
NAME         	NAMESPACE	REVISION	UPDATED                                	STATUS  	CHART               	APP VERSION
mongodb      	default  	1       	2022-04-15 12:03:26.997198287 +0530 IST	deployed	mongodb-11.1.5      	4.4.13     
nginx-ingress	default  	1       	2022-04-15 12:41:38.568153206 +0530 IST	deployed	nginx-ingress-0.13.0	2.2.0      
rishabh@Amazon:~/Downloads$ helm uninstall mongodb
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: test-kubeconfig.yaml
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: test-kubeconfig.yaml
release "mongodb" uninstalled
rishabh@Amazon:~/Downloads$ helm uninstall nginx-ingress
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: test-kubeconfig.yaml
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: test-kubeconfig.yaml
release "nginx-ingress" uninstalled
rishabh@Amazon:~/Downloads$ 


